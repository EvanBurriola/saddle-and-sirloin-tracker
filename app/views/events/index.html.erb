
<div>
  <div class="container mx-auto">
    <br>
    <%# Conditionally render create new event to only officers %>
    <% if User.find_by(email: current_admin.email).role > 0 %>
      <%= link_to("Create new event", new_event_path, class: "action new")%>
    <%end%>
    <h1 class="text-3xl font-bold text-center">Events</h1>
    <br>
  </div>
</div>

<% if flash[:notice] %>
  <div class="notice"><%= flash[:notice] %></div>
<% end %>

<div class="container mx-auto px-10">
  <div>
    <%= render "events_search" %>
  </div>
  <div>
    <%= button_to "Previous Events", previous_event_path(0), method: :get, class:"myClass" %>
  </div>
</div>


<% @events.each do |event|%>
  <%# checks event date and compares it to current date. Only renderes the events that are either today or later %>
  <%= render(:partial => "events_card", :locals => {:event => event}) if event.date >= Time.now.to_date%>
  <br>
<%end%>